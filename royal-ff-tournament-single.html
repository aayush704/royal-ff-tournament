<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Royal FF Tournament - Complete Single File</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            line-height: 1.6;
            color: #ffffff;
            background-color: #111827;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #374151;
        }

        ::-webkit-scrollbar-thumb {
            background: #6B7280;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #9CA3AF;
        }

        /* Animation utilities */
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: .5;
            }
        }

        /* Gaming theme colors */
        :root {
            --ff-blue: #2563eb;
            --ff-orange: #ea580c;
            --ff-gold: #fbbf24;
            --ff-dark: #111827;
            --ff-card: #1f2937;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, createContext, useContext } = React;

        // ===========================
        // TYPES AND INTERFACES
        // ===========================

        const TOURNAMENT_TYPES = {
            SINGLE_ELIMINATION: 'single_elimination',
            DOUBLE_ELIMINATION: 'double_elimination',
            ROUND_ROBIN: 'round_robin',
            SWISS: 'swiss'
        };

        const TOURNAMENT_STATUS = {
            UPCOMING: 'upcoming',
            LIVE: 'live',
            COMPLETED: 'completed',
            CANCELLED: 'cancelled'
        };

        const MATCH_STATUS = {
            SCHEDULED: 'scheduled',
            LIVE: 'live',
            COMPLETED: 'completed',
            CANCELLED: 'cancelled'
        };

        const DEMO_USER = {
            id: 1,
            username: "ProGamer123",
            email: "progamer@example.com",
            fullName: "Pro Gamer",
            coins: 15420,
            kills: 1247,
            wins: 89,
            matches: 156
        };

        // ===========================
        // STORAGE LAYER (In-Memory)
        // ===========================

        class MemoryStorage {
            constructor() {
                this.users = [
                    { ...DEMO_USER, createdAt: new Date() },
                    { id: 2, username: "GameMaster", email: "master@example.com", fullName: "Game Master", coins: 12000, kills: 1100, wins: 75, matches: 120, createdAt: new Date() },
                    { id: 3, username: "FireKing", email: "king@example.com", fullName: "Fire King", coins: 8500, kills: 890, wins: 60, matches: 100, createdAt: new Date() },
                    { id: 4, username: "SnipeQueen", email: "queen@example.com", fullName: "Snipe Queen", coins: 7200, kills: 750, wins: 45, matches: 85, createdAt: new Date() },
                    { id: 5, username: "RushGod", email: "god@example.com", fullName: "Rush God", coins: 6800, kills: 680, wins: 40, matches: 78, createdAt: new Date() }
                ];

                this.tournaments = [
                    {
                        id: 1,
                        name: "Royal Championship 2025",
                        description: "The ultimate Free Fire tournament with massive prizes",
                        game: "Free Fire",
                        type: TOURNAMENT_TYPES.SINGLE_ELIMINATION,
                        maxTeams: 64,
                        entryFee: 100,
                        prizePool: 50000,
                        startDate: new Date(Date.now() + 24 * 60 * 60 * 1000),
                        status: TOURNAMENT_STATUS.UPCOMING,
                        rules: "Standard Free Fire rules apply",
                        createdBy: 1,
                        createdAt: new Date()
                    },
                    {
                        id: 2,
                        name: "Speed Rush Tournament",
                        description: "Fast-paced matches for quick victories",
                        game: "Free Fire",
                        type: TOURNAMENT_TYPES.DOUBLE_ELIMINATION,
                        maxTeams: 32,
                        entryFee: 50,
                        prizePool: 15000,
                        startDate: new Date(Date.now() + 48 * 60 * 60 * 1000),
                        status: TOURNAMENT_STATUS.UPCOMING,
                        rules: "5-minute matches only",
                        createdBy: 1,
                        createdAt: new Date()
                    },
                    {
                        id: 3,
                        name: "Elite Masters Cup",
                        description: "Premium tournament for pro players",
                        game: "Free Fire",
                        type: TOURNAMENT_TYPES.ROUND_ROBIN,
                        maxTeams: 16,
                        entryFee: 200,
                        prizePool: 100000,
                        startDate: new Date(Date.now() + 72 * 60 * 60 * 1000),
                        status: TOURNAMENT_STATUS.UPCOMING,
                        rules: "Professional league rules",
                        createdBy: 1,
                        createdAt: new Date()
                    }
                ];

                this.teams = [
                    { id: 1, name: "Alpha Squad", description: "Elite gaming team", createdBy: 1, maxMembers: 4, createdAt: new Date() },
                    { id: 2, name: "Fire Warriors", description: "Aggressive playstyle", createdBy: 2, maxMembers: 4, createdAt: new Date() },
                    { id: 3, name: "Storm Riders", description: "Fast and tactical", createdBy: 3, maxMembers: 4, createdAt: new Date() }
                ];

                this.matches = [];
                this.registrations = [];
                this.leaderboard = [];
            }

            getUsers() {
                return this.users;
            }

            getUser(id) {
                return this.users.find(u => u.id === id);
            }

            createUser(user) {
                const newUser = {
                    ...user,
                    id: this.users.length + 1,
                    createdAt: new Date()
                };
                this.users.push(newUser);
                return newUser;
            }

            updateUser(id, updates) {
                const index = this.users.findIndex(u => u.id === id);
                if (index !== -1) {
                    this.users[index] = { ...this.users[index], ...updates };
                    return this.users[index];
                }
                return undefined;
            }

            getTournaments() {
                return this.tournaments;
            }

            getTournament(id) {
                return this.tournaments.find(t => t.id === id);
            }

            createTournament(tournament) {
                const newTournament = {
                    ...tournament,
                    id: this.tournaments.length + 1,
                    createdAt: new Date()
                };
                this.tournaments.push(newTournament);
                return newTournament;
            }

            getTeams() {
                return this.teams;
            }

            getTeam(id) {
                return this.teams.find(t => t.id === id);
            }

            createTeam(team) {
                const newTeam = {
                    ...team,
                    id: this.teams.length + 1,
                    createdAt: new Date()
                };
                this.teams.push(newTeam);
                return newTeam;
            }

            registerForTournament(registration) {
                const newRegistration = {
                    ...registration,
                    id: this.registrations.length + 1,
                    registeredAt: new Date()
                };
                this.registrations.push(newRegistration);
                return newRegistration;
            }

            getTournamentRegistrations(tournamentId) {
                return this.registrations.filter(r => r.tournamentId === tournamentId);
            }

            getMatches(tournamentId) {
                return this.matches.filter(m => m.tournamentId === tournamentId);
            }

            createMatch(match) {
                const newMatch = {
                    ...match,
                    id: this.matches.length + 1,
                    createdAt: new Date()
                };
                this.matches.push(newMatch);
                return newMatch;
            }

            updateMatchResult(matchId, winnerId) {
                const index = this.matches.findIndex(m => m.id === matchId);
                if (index !== -1) {
                    this.matches[index].winnerId = winnerId;
                    this.matches[index].status = MATCH_STATUS.COMPLETED;
                }
            }

            getLeaderboard(tournamentId) {
                if (tournamentId) {
                    return this.leaderboard.filter(l => l.tournamentId === tournamentId);
                }
                return this.leaderboard;
            }

            updateLeaderboard(tournamentId, userId, kills, points) {
                const index = this.leaderboard.findIndex(l => l.tournamentId === tournamentId && l.userId === userId);
                if (index !== -1) {
                    this.leaderboard[index].kills += kills;
                    this.leaderboard[index].points += points;
                } else {
                    this.leaderboard.push({
                        id: this.leaderboard.length + 1,
                        tournamentId,
                        userId,
                        kills,
                        points
                    });
                }
            }
        }

        // ===========================
        // CONTEXT AND HOOKS
        // ===========================

        const AppContext = createContext({
            storage: new MemoryStorage(),
            currentUser: DEMO_USER,
            ws: null
        });

        function useAppContext() {
            return useContext(AppContext);
        }

        function useWebSocket() {
            const [ws, setWs] = useState(null);
            const [isConnected, setIsConnected] = useState(false);

            useEffect(() => {
                const mockWs = {
                    send: (data) => console.log('Mock WS Send:', data),
                    close: () => console.log('Mock WS Close')
                };
                
                setWs(mockWs);
                setIsConnected(true);
                console.log('WebSocket connected (mock)');

                return () => {
                    if (mockWs) {
                        mockWs.close();
                    }
                };
            }, []);

            const sendMessage = (message) => {
                if (ws && isConnected) {
                    ws.send(JSON.stringify(message));
                }
            };

            return { ws, isConnected, sendMessage };
        }

        // ===========================
        // UI COMPONENTS
        // ===========================

        function Button({ variant = 'default', size = 'md', className = '', children, ...props }) {
            const baseStyles = 'inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none';
            
            const variants = {
                default: 'bg-blue-600 text-white hover:bg-blue-700',
                outline: 'border border-blue-600 text-blue-600 hover:bg-blue-50 hover:text-blue-700',
                ghost: 'text-blue-600 hover:bg-blue-50'
            };

            const sizes = {
                sm: 'px-3 py-1.5 text-sm',
                md: 'px-4 py-2',
                lg: 'px-6 py-3 text-lg'
            };

            return React.createElement('button', {
                className: `${baseStyles} ${variants[variant]} ${sizes[size]} ${className}`,
                ...props
            }, children);
        }

        function Card({ className = '', children, ...props }) {
            return React.createElement('div', {
                className: `bg-gray-800 border border-gray-700 rounded-lg shadow-lg ${className}`,
                ...props
            }, children);
        }

        function CardHeader({ className = '', children, ...props }) {
            return React.createElement('div', {
                className: `p-6 pb-0 ${className}`,
                ...props
            }, children);
        }

        function CardContent({ className = '', children, ...props }) {
            return React.createElement('div', {
                className: `p-6 ${className}`,
                ...props
            }, children);
        }

        function CardTitle({ className = '', children, ...props }) {
            return React.createElement('h3', {
                className: `text-lg font-semibold text-white ${className}`,
                ...props
            }, children);
        }

        function Badge({ variant = 'default', className = '', children, ...props }) {
            const variants = {
                default: 'bg-gray-600 text-white',
                success: 'bg-green-600 text-white',
                warning: 'bg-yellow-600 text-black',
                danger: 'bg-red-600 text-white'
            };

            return React.createElement('span', {
                className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${variants[variant]} ${className}`,
                ...props
            }, children);
        }

        function Input({ className = '', ...props }) {
            return React.createElement('input', {
                className: `flex h-10 w-full rounded-md border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 disabled:cursor-not-allowed disabled:opacity-50 ${className}`,
                ...props
            });
        }

        function Label({ className = '', ...props }) {
            return React.createElement('label', {
                className: `text-sm font-medium text-white leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${className}`,
                ...props
            });
        }

        function Textarea({ className = '', ...props }) {
            return React.createElement('textarea', {
                className: `flex min-h-[80px] w-full rounded-md border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 disabled:cursor-not-allowed disabled:opacity-50 ${className}`,
                ...props
            });
        }

        function Select({ className = '', children, ...props }) {
            return React.createElement('select', {
                className: `flex h-10 w-full rounded-md border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 disabled:cursor-not-allowed disabled:opacity-50 ${className}`,
                ...props
            }, children);
        }

        // Icons (Simple SVG icons)
        function Crown({ className = '' }) {
            return React.createElement('svg', {
                className: `w-6 h-6 ${className}`,
                fill: 'currentColor',
                viewBox: '0 0 24 24'
            }, React.createElement('path', {
                d: 'M5 16L3 12l1.5-1L8 14l4-4 4 4 3.5-3L21 12l-2 4H5zm2.7-2h8.6l.9-1.4L15 11l-3 3-3-3-2.2 1.6L7.7 14z'
            }));
        }

        function Trophy({ className = '' }) {
            return React.createElement('svg', {
                className: `w-6 h-6 ${className}`,
                fill: 'currentColor',
                viewBox: '0 0 24 24'
            }, React.createElement('path', {
                d: 'M7 4V2C7 1.45 7.45 1 8 1h8c.55 0 1 .45 1 1v2h4c.55 0 1 .45 1 1v3c0 2.21-1.79 4-4 4h-.54c-.77 1.27-2.02 2.24-3.46 2.73V18h2c.55 0 1 .45 1 1s-.45 1-1 1H8c-.55 0-1-.45-1-1s.45-1 1-1h2v-3.27c-1.44-.49-2.69-1.46-3.46-2.73H6c-2.21 0-4-1.79-4-4V5c0-.55.45-1 1-1h4z'
            }));
        }

        function Users({ className = '' }) {
            return React.createElement('svg', {
                className: `w-6 h-6 ${className}`,
                fill: 'currentColor',
                viewBox: '0 0 24 24'
            }, React.createElement('path', {
                d: 'M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A1.5 1.5 0 0 0 18.54 8H17.5c-.83 0-1.5.67-1.5 1.5v.5H14v-2c0-1.11.89-2 2-2h2.54c1.52 0 2.94.86 3.64 2.22L24.54 16H22v6h-2z'
            }));
        }

        function Calendar({ className = '' }) {
            return React.createElement('svg', {
                className: `w-6 h-6 ${className}`,
                fill: 'currentColor',
                viewBox: '0 0 24 24'
            }, React.createElement('path', {
                d: 'M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z'
            }));
        }

        function Gamepad({ className = '' }) {
            return React.createElement('svg', {
                className: `w-6 h-6 ${className}`,
                fill: 'currentColor',
                viewBox: '0 0 24 24'
            }, React.createElement('path', {
                d: 'M15 7.5V2H9v5.5l3 3 3-3zM7.5 9H2v6h5.5l3-3-3-3zM9 16.5V22h6v-5.5l-3-3-3 3zM16.5 9l3 3 3-3H22V2h-5.5l3 3z'
            }));
        }

        function Plus({ className = '' }) {
            return React.createElement('svg', {
                className: `w-6 h-6 ${className}`,
                fill: 'currentColor',
                viewBox: '0 0 24 24'
            }, React.createElement('path', {
                d: 'M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z'
            }));
        }

        function Coins({ className = '' }) {
            return React.createElement('svg', {
                className: `w-6 h-6 ${className}`,
                fill: 'currentColor',
                viewBox: '0 0 24 24'
            }, React.createElement('path', {
                d: 'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z'
            }));
        }

        function Bell({ className = '' }) {
            return React.createElement('svg', {
                className: `w-6 h-6 ${className}`,
                fill: 'currentColor',
                viewBox: '0 0 24 24'
            }, React.createElement('path', {
                d: 'M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z'
            }));
        }

        // ===========================
        // MAIN COMPONENTS
        // ===========================

        function Navigation({ currentPage, onNavigate }) {
            const { currentUser } = useAppContext();

            return React.createElement('header', {
                className: 'bg-gray-800 border-b border-gray-700 sticky top-0 z-50'
            }, React.createElement('div', {
                className: 'container mx-auto px-4 py-3'
            }, React.createElement('div', {
                className: 'flex items-center justify-between'
            }, 
                React.createElement('button', {
                    onClick: () => onNavigate('home'),
                    className: 'flex items-center space-x-3 hover:opacity-80'
                }, 
                    React.createElement('div', {
                        className: 'w-10 h-10 bg-gradient-to-r from-blue-600 to-orange-500 rounded-lg flex items-center justify-center'
                    }, React.createElement(Crown, { className: 'text-white' })),
                    React.createElement('h1', {
                        className: 'text-xl font-bold text-white'
                    }, 'Royal FF Tournament')
                ),
                React.createElement('div', {
                    className: 'flex items-center space-x-4'
                },
                    React.createElement('div', {
                        className: 'hidden md:flex items-center space-x-2 bg-gray-900 px-3 py-1 rounded-full'
                    },
                        React.createElement(Coins, { className: 'text-yellow-500 w-4 h-4' }),
                        React.createElement('span', {
                            className: 'text-sm font-semibold text-white'
                        }, currentUser.coins.toLocaleString())
                    ),
                    React.createElement('nav', {
                        className: 'hidden md:flex items-center space-x-4'
                    }, [
                        { name: 'Home', page: 'home' },
                        { name: 'Tournaments', page: 'tournaments' },
                        { name: 'Teams', page: 'teams' },
                        { name: 'Profile', page: 'profile' }
                    ].map((item) => 
                        React.createElement(Button, {
                            key: item.page,
                            variant: currentPage === item.page ? "default" : "ghost",
                            onClick: () => onNavigate(item.page)
                        }, item.name)
                    ))
                )
            )));
        }

        function BottomNav({ currentPage, onNavigate }) {
            const navItems = [
                { name: 'Home', page: 'home', icon: Crown },
                { name: 'Tournaments', page: 'tournaments', icon: Trophy },
                { name: 'Teams', page: 'teams', icon: Users },
                { name: 'Profile', page: 'profile', icon: Bell }
            ];

            return React.createElement('nav', {
                className: 'md:hidden fixed bottom-0 left-0 right-0 bg-gray-800 border-t border-gray-700 z-50'
            }, React.createElement('div', {
                className: 'flex justify-around py-2'
            }, navItems.map((item) => {
                const Icon = item.icon;
                return React.createElement('button', {
                    key: item.page,
                    onClick: () => onNavigate(item.page),
                    className: `flex flex-col items-center py-2 px-3 rounded-lg transition-colors ${
                        currentPage === item.page 
                            ? 'text-blue-500 bg-gray-700' 
                            : 'text-gray-400 hover:text-white'
                    }`
                },
                    React.createElement(Icon, { className: 'w-5 h-5' }),
                    React.createElement('span', {
                        className: 'text-xs mt-1'
                    }, item.name)
                );
            })));
        }

        function TournamentCard({ tournament, onRegister }) {
            const getStatusColor = (status) => {
                switch (status) {
                    case TOURNAMENT_STATUS.UPCOMING: return 'warning';
                    case TOURNAMENT_STATUS.LIVE: return 'success';
                    case TOURNAMENT_STATUS.COMPLETED: return 'default';
                    default: return 'danger';
                }
            };

            const timeUntil = Math.ceil((tournament.startDate.getTime() - Date.now()) / (1000 * 60 * 60));

            return React.createElement(Card, {
                className: 'hover:border-blue-500 transition-colors'
            },
                React.createElement(CardHeader, null,
                    React.createElement('div', {
                        className: 'flex justify-between items-start'
                    },
                        React.createElement(CardTitle, null, tournament.name),
                        React.createElement(Badge, {
                            variant: getStatusColor(tournament.status)
                        }, tournament.status.toUpperCase())
                    )
                ),
                React.createElement(CardContent, null,
                    React.createElement('p', {
                        className: 'text-gray-400 text-sm mb-4'
                    }, tournament.description),
                    
                    React.createElement('div', {
                        className: 'grid grid-cols-2 gap-4 text-sm mb-4'
                    },
                        React.createElement('div', null,
                            React.createElement('span', {
                                className: 'text-gray-400'
                            }, 'Game:'),
                            React.createElement('p', {
                                className: 'text-white font-medium'
                            }, tournament.game)
                        ),
                        React.createElement('div', null,
                            React.createElement('span', {
                                className: 'text-gray-400'
                            }, 'Type:'),
                            React.createElement('p', {
                                className: 'text-white font-medium'
                            }, tournament.type.replace('_', ' '))
                        ),
                        React.createElement('div', null,
                            React.createElement('span', {
                                className: 'text-gray-400'
                            }, 'Max Teams:'),
                            React.createElement('p', {
                                className: 'text-white font-medium'
                            }, tournament.maxTeams)
                        ),
                        React.createElement('div', null,
                            React.createElement('span', {
                                className: 'text-gray-400'
                            }, 'Entry Fee:'),
                            React.createElement('p', {
                                className: 'text-yellow-500 font-medium'
                            }, '₹' + tournament.entryFee)
                        )
                    ),

                    React.createElement('div', {
                        className: 'bg-gradient-to-r from-blue-900/50 to-orange-900/50 p-3 rounded-lg mb-4'
                    },
                        React.createElement('div', {
                            className: 'flex justify-between items-center'
                        },
                            React.createElement('span', {
                                className: 'text-yellow-500 font-bold'
                            }, 'Prize Pool'),
                            React.createElement('span', {
                                className: 'text-yellow-500 font-bold text-lg'
                            }, '₹' + tournament.prizePool.toLocaleString())
                        )
                    ),

                    tournament.status === TOURNAMENT_STATUS.UPCOMING && React.createElement('div', {
                        className: 'mb-4'
                    },
                        React.createElement('div', {
                            className: 'flex items-center text-sm text-gray-400 mb-2'
                        },
                            React.createElement(Calendar, { className: 'w-4 h-4 mr-2' }),
                            `Starts in ${timeUntil} hours`
                        )
                    ),

                    onRegister && tournament.status === TOURNAMENT_STATUS.UPCOMING && React.createElement(Button, {
                        className: 'w-full',
                        onClick: () => onRegister(tournament.id)
                    }, 'Register Now')
                )
            );
        }

        function Leaderboard({ players, title = "Leaderboard" }) {
            return React.createElement(Card, null,
                React.createElement(CardHeader, null,
                    React.createElement(CardTitle, {
                        className: 'flex items-center'
                    },
                        React.createElement(Trophy, { className: 'mr-2 text-yellow-500' }),
                        title
                    )
                ),
                React.createElement(CardContent, null,
                    React.createElement('div', {
                        className: 'space-y-3'
                    }, players.map((player, index) => 
                        React.createElement('div', {
                            key: player.id,
                            className: 'flex items-center justify-between p-3 bg-gray-700 rounded-lg'
                        },
                            React.createElement('div', {
                                className: 'flex items-center space-x-3'
                            },
                                React.createElement('div', {
                                    className: `w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${
                                        index === 0 ? 'bg-yellow-500 text-black' :
                                        index === 1 ? 'bg-gray-400 text-black' :
                                        index === 2 ? 'bg-orange-500 text-black' :
                                        'bg-gray-600 text-white'
                                    }`
                                }, player.position || index + 1),
                                React.createElement('div', null,
                                    React.createElement('p', {
                                        className: 'font-medium text-white'
                                    }, player.username),
                                    React.createElement('div', {
                                        className: 'flex space-x-4 text-sm text-gray-400'
                                    },
                                        React.createElement('span', null, 'Kills: ' + player.kills),
                                        React.createElement('span', null, 'Wins: ' + player.wins)
                                    )
                                )
                            ),
                            React.createElement('div', {
                                className: 'text-right'
                            },
                                React.createElement('p', {
                                    className: 'font-bold text-yellow-500'
                                }, (player.totalPoints || player.kills + player.wins * 10) + ' pts'),
                                React.createElement('p', {
                                    className: 'text-sm text-gray-400'
                                }, player.matches + ' matches')
                            )
                        )
                    ))
                )
            );
        }

        // ===========================
        // PAGES
        // ===========================

        function HomePage() {
            const { storage } = useAppContext();
            const [tournaments, setTournaments] = useState([]);
            const [topPlayers, setTopPlayers] = useState([]);

            useEffect(() => {
                setTournaments(storage.getTournaments().slice(0, 3));
                setTopPlayers(storage.getUsers().sort((a, b) => (b.kills + b.wins * 10) - (a.kills + a.wins * 10)).slice(0, 5));
            }, [storage]);

            return React.createElement('div', {
                className: 'space-y-8'
            },
                // Hero Section
                React.createElement('section', {
                    className: 'text-center py-12 bg-gradient-to-r from-blue-900/50 to-orange-900/50 rounded-lg'
                },
                    React.createElement('h1', {
                        className: 'text-4xl font-bold text-white mb-4'
                    }, 'Welcome to Royal FF Tournament'),
                    React.createElement('p', {
                        className: 'text-xl text-gray-300 mb-8'
                    }, 'Compete in the ultimate Free Fire tournaments and win amazing prizes!'),
                    React.createElement('div', {
                        className: 'flex justify-center space-x-4'
                    },
                        React.createElement(Button, { size: 'lg' },
                            React.createElement(Trophy, { className: 'mr-2' }),
                            'View Tournaments'
                        ),
                        React.createElement(Button, { variant: 'outline', size: 'lg' },
                            React.createElement(Users, { className: 'mr-2' }),
                            'Join Team'
                        )
                    )
                ),

                // Quick Stats
                React.createElement('section', null,
                    React.createElement('div', {
                        className: 'grid grid-cols-2 md:grid-cols-4 gap-4'
                    },
                        React.createElement(Card, null,
                            React.createElement(CardContent, {
                                className: 'p-6 text-center'
                            },
                                React.createElement(Trophy, { className: 'text-3xl mb-3 mx-auto text-yellow-500' }),
                                React.createElement('p', {
                                    className: 'font-semibold text-white'
                                }, 'Active'),
                                React.createElement('p', {
                                    className: 'text-xs text-gray-400 mt-1'
                                }, 'Tournaments'),
                                React.createElement('p', {
                                    className: 'text-2xl font-bold text-blue-500 mt-2'
                                }, tournaments.length)
                            )
                        ),
                        
                        React.createElement(Card, null,
                            React.createElement(CardContent, {
                                className: 'p-6 text-center'
                            },
                                React.createElement(Users, { className: 'text-3xl mb-3 mx-auto text-blue-500' }),
                                React.createElement('p', {
                                    className: 'font-semibold text-white'
                                }, 'Total'),
                                React.createElement('p', {
                                    className: 'text-xs text-gray-400 mt-1'
                                }, 'Players'),
                                React.createElement('p', {
                                    className: 'text-2xl font-bold text-green-500 mt-2'
                                }, '1,247')
                            )
                        ),
                        
                        React.createElement(Card, null,
                            React.createElement(CardContent, {
                                className: 'p-6 text-center'
                            },
                                React.createElement(Coins, { className: 'text-3xl mb-3 mx-auto text-yellow-500' }),
                                React.createElement('p', {
                                    className: 'font-semibold text-white'
                                }, 'Prize'),
                                React.createElement('p', {
                                    className: 'text-xs text-gray-400 mt-1'
                                }, 'Pool'),
                                React.createElement('p', {
                                    className: 'text-2xl font-bold text-yellow-500 mt-2'
                                }, '₹2.5L')
                            )
                        ),
                        
                        React.createElement(Card, null,
                            React.createElement(CardContent, {
                                className: 'p-6 text-center'
                            },
                                React.createElement(Gamepad, { className: 'text-3xl mb-3 mx-auto text-orange-500' }),
                                React.createElement('p', {
                                    className: 'font-semibold text-white'
                                }, 'Live'),
                                React.createElement('p', {
                                    className: 'text-xs text-gray-400 mt-1'
                                }, 'Matches'),
                                React.createElement('p', {
                                    className: 'text-2xl font-bold text-orange-500 mt-2'
                                }, '8')
                            )
                        )
                    )
                ),

                // Featured Tournaments
                React.createElement('section', null,
                    React.createElement('div', {
                        className: 'flex items-center justify-between mb-6'
                    },
                        React.createElement('h3', {
                            className: 'text-xl font-bold text-white flex items-center'
                        },
                            React.createElement(Trophy, { className: 'mr-2 text-yellow-500' }),
                            'Featured Tournaments'
                        ),
                        React.createElement(Button, { variant: 'outline' }, 'View All')
                    ),
                    
                    React.createElement('div', {
                        className: 'grid md:grid-cols-2 lg:grid-cols-3 gap-6'
                    }, tournaments.map((tournament) => 
                        React.createElement(TournamentCard, {
                            key: tournament.id,
                            tournament: tournament
                        })
                    ))
                ),

                // Top Players
                React.createElement('section', null,
                    React.createElement('div', {
                        className: 'flex items-center justify-between mb-6'
                    },
                        React.createElement('h3', {
                            className: 'text-xl font-bold text-white flex items-center'
                        },
                            React.createElement(Trophy, { className: 'mr-2 text-yellow-500' }),
                            'Top Players'
                        ),
                        React.createElement(Button, { variant: 'outline' }, 'View Full Leaderboard')
                    ),
                    
                    React.createElement(Leaderboard, {
                        players: topPlayers.slice(0, 5)
                    })
                )
            );
        }

        function TournamentsPage() {
            const { storage } = useAppContext();
            const [tournaments, setTournaments] = useState([]);
            const [filter, setFilter] = useState('all');

            useEffect(() => {
                let filtered = storage.getTournaments();
                if (filter !== 'all') {
                    filtered = filtered.filter(t => t.status === filter);
                }
                setTournaments(filtered);
            }, [storage, filter]);

            const handleRegister = (tournamentId) => {
                alert(`Registered for tournament ${tournamentId}!`);
            };

            return React.createElement('div', {
                className: 'space-y-6'
            },
                React.createElement('div', {
                    className: 'flex justify-between items-center'
                },
                    React.createElement('h1', {
                        className: 'text-2xl font-bold text-white'
                    }, 'Tournaments'),
                    React.createElement(Button, null,
                        React.createElement(Plus, { className: 'mr-2' }),
                        'Create Tournament'
                    )
                ),

                // Filters
                React.createElement('div', {
                    className: 'flex space-x-4'
                }, [
                    { key: 'all', label: 'All' },
                    { key: TOURNAMENT_STATUS.UPCOMING, label: 'Upcoming' },
                    { key: TOURNAMENT_STATUS.LIVE, label: 'Live' },
                    { key: TOURNAMENT_STATUS.COMPLETED, label: 'Completed' }
                ].map((option) => 
                    React.createElement(Button, {
                        key: option.key,
                        variant: filter === option.key ? 'default' : 'outline',
                        onClick: () => setFilter(option.key)
                    }, option.label)
                )),

                // Tournaments Grid
                React.createElement('div', {
                    className: 'grid md:grid-cols-2 lg:grid-cols-3 gap-6'
                }, tournaments.map((tournament) => 
                    React.createElement(TournamentCard, {
                        key: tournament.id,
                        tournament: tournament,
                        onRegister: handleRegister
                    })
                )),

                tournaments.length === 0 && React.createElement('div', {
                    className: 'text-center py-12'
                },
                    React.createElement(Trophy, { className: 'w-16 h-16 text-gray-600 mx-auto mb-4' }),
                    React.createElement('h3', {
                        className: 'text-xl font-semibold text-gray-400 mb-2'
                    }, 'No tournaments found'),
                    React.createElement('p', {
                        className: 'text-gray-500'
                    }, 'Check back later or create your own tournament!')
                )
            );
        }

        function TeamsPage() {
            const { storage } = useAppContext();
            const [teams, setTeams] = useState([]);
            const [showCreateForm, setShowCreateForm] = useState(false);
            const [formData, setFormData] = useState({ name: '', description: '', maxMembers: 4 });

            useEffect(() => {
                setTeams(storage.getTeams());
            }, [storage]);

            const handleCreateTeam = (e) => {
                e.preventDefault();
                const newTeam = storage.createTeam({
                    ...formData,
                    createdBy: 1
                });
                setTeams([...teams, newTeam]);
                setFormData({ name: '', description: '', maxMembers: 4 });
                setShowCreateForm(false);
            };

            return React.createElement('div', {
                className: 'space-y-6'
            },
                React.createElement('div', {
                    className: 'flex justify-between items-center'
                },
                    React.createElement('h1', {
                        className: 'text-2xl font-bold text-white'
                    }, 'Teams'),
                    React.createElement(Button, {
                        onClick: () => setShowCreateForm(!showCreateForm)
                    },
                        React.createElement(Plus, { className: 'mr-2' }),
                        'Create Team'
                    )
                ),

                // Create Team Form
                showCreateForm && React.createElement(Card, null,
                    React.createElement(CardHeader, null,
                        React.createElement(CardTitle, null, 'Create New Team')
                    ),
                    React.createElement(CardContent, null,
                        React.createElement('form', {
                            onSubmit: handleCreateTeam,
                            className: 'space-y-4'
                        },
                            React.createElement('div', null,
                                React.createElement(Label, { htmlFor: 'name' }, 'Team Name'),
                                React.createElement(Input, {
                                    id: 'name',
                                    value: formData.name,
                                    onChange: (e) => setFormData({ ...formData, name: e.target.value }),
                                    placeholder: 'Enter team name',
                                    required: true
                                })
                            ),
                            
                            React.createElement('div', null,
                                React.createElement(Label, { htmlFor: 'description' }, 'Description'),
                                React.createElement(Textarea, {
                                    id: 'description',
                                    value: formData.description,
                                    onChange: (e) => setFormData({ ...formData, description: e.target.value }),
                                    placeholder: 'Describe your team'
                                })
                            ),
                            
                            React.createElement('div', null,
                                React.createElement(Label, { htmlFor: 'maxMembers' }, 'Max Members'),
                                React.createElement(Select, {
                                    value: formData.maxMembers.toString(),
                                    onChange: (e) => setFormData({ ...formData, maxMembers: parseInt(e.target.value) })
                                },
                                    React.createElement('option', { value: '2' }, '2 Members'),
                                    React.createElement('option', { value: '4' }, '4 Members'),
                                    React.createElement('option', { value: '6' }, '6 Members')
                                )
                            ),
                            
                            React.createElement('div', {
                                className: 'flex space-x-4'
                            },
                                React.createElement(Button, { type: 'submit' }, 'Create Team'),
                                React.createElement(Button, {
                                    type: 'button',
                                    variant: 'outline',
                                    onClick: () => setShowCreateForm(false)
                                }, 'Cancel')
                            )
                        )
                    )
                ),

                // Teams Grid
                React.createElement('div', {
                    className: 'grid md:grid-cols-2 lg:grid-cols-3 gap-6'
                }, teams.map((team) => 
                    React.createElement(Card, {
                        key: team.id
                    },
                        React.createElement(CardHeader, null,
                            React.createElement(CardTitle, null, team.name)
                        ),
                        React.createElement(CardContent, null,
                            React.createElement('p', {
                                className: 'text-gray-400 text-sm mb-4'
                            }, team.description),
                            
                            React.createElement('div', {
                                className: 'flex justify-between items-center mb-4'
                            },
                                React.createElement('span', {
                                    className: 'text-sm text-gray-400'
                                }, 'Members'),
                                React.createElement('span', {
                                    className: 'text-white font-medium'
                                }, `0/${team.maxMembers}`)
                            ),
                            
                            React.createElement(Button, {
                                className: 'w-full',
                                variant: 'outline'
                            }, 'Join Team')
                        )
                    )
                )),

                teams.length === 0 && React.createElement('div', {
                    className: 'text-center py-12'
                },
                    React.createElement(Users, { className: 'w-16 h-16 text-gray-600 mx-auto mb-4' }),
                    React.createElement('h3', {
                        className: 'text-xl font-semibold text-gray-400 mb-2'
                    }, 'No teams found'),
                    React.createElement('p', {
                        className: 'text-gray-500'
                    }, 'Create your first team to get started!')
                )
            );
        }

        function ProfilePage() {
            const { currentUser } = useAppContext();
            const [isEditing, setIsEditing] = useState(false);
            const [formData, setFormData] = useState({
                fullName: currentUser.fullName || '',
                email: currentUser.email
            });

            const handleSave = (e) => {
                e.preventDefault();
                alert('Profile updated!');
                setIsEditing(false);
            };

            return React.createElement('div', {
                className: 'space-y-6'
            },
                React.createElement('div', {
                    className: 'flex justify-between items-center'
                },
                    React.createElement('h1', {
                        className: 'text-2xl font-bold text-white'
                    }, 'Profile'),
                    React.createElement(Button, {
                        onClick: () => setIsEditing(!isEditing)
                    }, isEditing ? 'Cancel' : 'Edit Profile')
                ),

                // Profile Header
                React.createElement(Card, null,
                    React.createElement(CardContent, {
                        className: 'p-6'
                    },
                        React.createElement('div', {
                            className: 'flex items-center space-x-6'
                        },
                            React.createElement('div', {
                                className: 'w-20 h-20 bg-gradient-to-r from-blue-600 to-orange-500 rounded-full flex items-center justify-center'
                            },
                                React.createElement('span', {
                                    className: 'text-2xl font-bold text-white'
                                }, currentUser.username.charAt(0).toUpperCase())
                            ),
                            React.createElement('div', null,
                                React.createElement('h2', {
                                    className: 'text-2xl font-bold text-white'
                                }, currentUser.username),
                                React.createElement('p', {
                                    className: 'text-gray-400'
                                }, currentUser.fullName),
                                React.createElement('p', {
                                    className: 'text-gray-500 text-sm'
                                }, currentUser.email)
                            )
                        )
                    )
                ),

                // Edit Form
                isEditing && React.createElement(Card, null,
                    React.createElement(CardHeader, null,
                        React.createElement(CardTitle, null, 'Edit Profile')
                    ),
                    React.createElement(CardContent, null,
                        React.createElement('form', {
                            onSubmit: handleSave,
                            className: 'space-y-4'
                        },
                            React.createElement('div', null,
                                React.createElement(Label, { htmlFor: 'fullName' }, 'Full Name'),
                                React.createElement(Input, {
                                    id: 'fullName',
                                    value: formData.fullName,
                                    onChange: (e) => setFormData({ ...formData, fullName: e.target.value }),
                                    placeholder: 'Enter your full name'
                                })
                            ),
                            
                            React.createElement('div', null,
                                React.createElement(Label, { htmlFor: 'email' }, 'Email'),
                                React.createElement(Input, {
                                    id: 'email',
                                    type: 'email',
                                    value: formData.email,
                                    onChange: (e) => setFormData({ ...formData, email: e.target.value }),
                                    placeholder: 'Enter your email'
                                })
                            ),
                            
                            React.createElement('div', {
                                className: 'flex space-x-4'
                            },
                                React.createElement(Button, { type: 'submit' }, 'Save Changes'),
                                React.createElement(Button, {
                                    type: 'button',
                                    variant: 'outline',
                                    onClick: () => setIsEditing(false)
                                }, 'Cancel')
                            )
                        )
                    )
                ),

                // Stats
                React.createElement('div', {
                    className: 'grid md:grid-cols-2 lg:grid-cols-4 gap-6'
                },
                    React.createElement(Card, null,
                        React.createElement(CardContent, {
                            className: 'p-6 text-center'
                        },
                            React.createElement(Coins, { className: 'text-3xl mb-3 mx-auto text-yellow-500' }),
                            React.createElement('p', {
                                className: 'font-semibold text-white'
                            }, 'Coins'),
                            React.createElement('p', {
                                className: 'text-2xl font-bold text-yellow-500 mt-2'
                            }, currentUser.coins.toLocaleString())
                        )
                    ),
                    
                    React.createElement(Card, null,
                        React.createElement(CardContent, {
                            className: 'p-6 text-center'
                        },
                            React.createElement(Trophy, { className: 'text-3xl mb-3 mx-auto text-green-500' }),
                            React.createElement('p', {
                                className: 'font-semibold text-white'
                            }, 'Wins'),
                            React.createElement('p', {
                                className: 'text-2xl font-bold text-green-500 mt-2'
                            }, currentUser.wins)
                        )
                    ),
                    
                    React.createElement(Card, null,
                        React.createElement(CardContent, {
                            className: 'p-6 text-center'
                        },
                            React.createElement(Gamepad, { className: 'text-3xl mb-3 mx-auto text-blue-500' }),
                            React.createElement('p', {
                                className: 'font-semibold text-white'
                            }, 'Matches'),
                            React.createElement('p', {
                                className: 'text-2xl font-bold text-blue-500 mt-2'
                            }, currentUser.matches)
                        )
                    ),
                    
                    React.createElement(Card, null,
                        React.createElement(CardContent, {
                            className: 'p-6 text-center'
                        },
                            React.createElement(Users, { className: 'text-3xl mb-3 mx-auto text-red-500' }),
                            React.createElement('p', {
                                className: 'font-semibold text-white'
                            }, 'Kills'),
                            React.createElement('p', {
                                className: 'text-2xl font-bold text-red-500 mt-2'
                            }, currentUser.kills)
                        )
                    )
                ),

                // Recent Activity
                React.createElement(Card, null,
                    React.createElement(CardHeader, null,
                        React.createElement(CardTitle, null, 'Recent Activity')
                    ),
                    React.createElement(CardContent, null,
                        React.createElement('div', {
                            className: 'space-y-4'
                        }, [
                            { action: 'Won Royal Championship 2025', time: '2 hours ago', type: 'win' },
                            { action: 'Joined Alpha Squad team', time: '1 day ago', type: 'team' },
                            { action: 'Registered for Speed Rush Tournament', time: '3 days ago', type: 'tournament' }
                        ].map((activity, index) => 
                            React.createElement('div', {
                                key: index,
                                className: 'flex items-center justify-between p-3 bg-gray-700 rounded-lg'
                            },
                                React.createElement('div', null,
                                    React.createElement('p', {
                                        className: 'text-white font-medium'
                                    }, activity.action),
                                    React.createElement('p', {
                                        className: 'text-gray-400 text-sm'
                                    }, activity.time)
                                ),
                                React.createElement(Badge, {
                                    variant: activity.type === 'win' ? 'success' : 'default'
                                }, activity.type)
                            )
                        ))
                    )
                )
            );
        }

        // ===========================
        // MAIN APP COMPONENT
        // ===========================

        function App() {
            const [currentPage, setCurrentPage] = useState('home');
            const storage = new MemoryStorage();
            const { ws } = useWebSocket();

            const renderPage = () => {
                switch (currentPage) {
                    case 'home': return React.createElement(HomePage);
                    case 'tournaments': return React.createElement(TournamentsPage);
                    case 'teams': return React.createElement(TeamsPage);
                    case 'profile': return React.createElement(ProfilePage);
                    default: return React.createElement(HomePage);
                }
            };

            return React.createElement(AppContext.Provider, {
                value: { storage, currentUser: DEMO_USER, ws }
            }, React.createElement('div', {
                className: 'min-h-screen bg-gray-900'
            },
                React.createElement(Navigation, {
                    currentPage: currentPage,
                    onNavigate: setCurrentPage
                }),
                React.createElement('main', {
                    className: 'container mx-auto px-4 py-6 pb-20'
                }, renderPage()),
                React.createElement(BottomNav, {
                    currentPage: currentPage,
                    onNavigate: setCurrentPage
                })
            ));
        }

        // Render the app
        ReactDOM.render(React.createElement(App), document.getElementById('root'));
    </script>
</body>
</html>